import{r as a}from"./index-1b03fe98.js";import{c as P}from"./AMapRangingTool-ace20b91.js";var I=new Map,b=new WeakMap,m=0,S=void 0;function T(e){return e?(b.has(e)||(m+=1,b.set(e,m.toString())),b.get(e)):"0"}function V(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?T(e.root):e[t]}`).toString()}function N(e){let t=V(e),n=I.get(t);if(!n){const s=new Map;let u;const o=new IntersectionObserver(i=>{i.forEach(r=>{var c;const h=r.isIntersecting&&u.some(f=>r.intersectionRatio>=f);e.trackVisibility&&typeof r.isVisible>"u"&&(r.isVisible=h),(c=s.get(r.target))==null||c.forEach(f=>{f(h,r)})})},e);u=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:s},I.set(t,n)}return n}function O(e,t,n={},s=S){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const c=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:u,observer:o,elements:i}=N(n);let r=i.get(e)||[];return i.has(e)||i.set(e,r),r.push(t),o.observe(e),function(){r.splice(r.indexOf(t),1),r.length===0&&(i.delete(e),o.unobserve(e)),i.size===0&&(o.disconnect(),I.delete(u))}}function $({threshold:e,delay:t,trackVisibility:n,rootMargin:s,root:u,triggerOnce:o,skip:i,initialInView:r,fallbackInView:c,onChange:h}={}){var f;const[l,y]=a.useState(null),g=a.useRef(),[A,C]=a.useState({inView:!!r,entry:void 0});g.current=h,a.useEffect(()=>{if(i||!l)return;let v;return v=O(l,(E,w)=>{C({inView:E,entry:w}),g.current&&g.current(E,w),w.isIntersecting&&o&&v&&(v(),v=void 0)},{root:u,rootMargin:s,threshold:e,trackVisibility:n,delay:t},c),()=>{v&&v()}},[Array.isArray(e)?e.toString():e,l,u,s,o,i,n,c,t]);const p=(f=A.entry)==null?void 0:f.target,R=a.useRef();!l&&p&&!o&&!i&&R.current!==p&&(R.current=p,C({inView:!!r,entry:void 0}));const d=[y,A.inView,A.entry];return d.ref=d[0],d.inView=d[1],d.entry=d[2],d}const x={height:"35vw"},B=({children:e})=>{const{ref:t,inView:n}=$({threshold:0}),s=a.useRef(null);return n&&(s.current=e),a.createElement("div",{ref:t,style:x},n?e:s.current)},M=(e,t)=>a.createElement(B,null,e({},t)),L=M;M.__docgenInfo={description:"",methods:[],displayName:"withAMapContainer"};const Y="38755ba5e44be7ed58efbbc70101fbbf",j=P({key:Y,version:"2.0",AMapUI:{version:"1.1"}}),_=(e,t)=>a.createElement(j,null,e({},t)),U=_;_.__docgenInfo={description:"",methods:[],displayName:"withAPIContainer"};export{U as a,L as w};
