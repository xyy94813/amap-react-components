{"version":3,"file":"withAutoFitView-07c4e24b.js","sources":["../../src/components/AMapAutoFitView/AMapAutoFitView.tsx","../../src/storybook-decorators/withAutoFitView.tsx"],"sourcesContent":["import type { FC } from 'react';\nimport { useState, useEffect } from 'react';\n\nimport useAMap from '../../hooks/useAMap';\n\nimport type { AMapAutoFitViewProps } from './interface';\n\nconst AMapAutoFitView: FC<AMapAutoFitViewProps> = ({ delay }) => {\n  const { map } = useAMap();\n  const [fitViewed, setFitViewed] = useState(false);\n  useEffect(() => {\n    let clearEffect;\n    if (fitViewed) {\n      return clearEffect;\n    }\n    const timeoutKey = setTimeout(() => {\n      if (map) {\n        map.setFitView();\n        setFitViewed(true);\n      }\n    }, delay);\n    clearEffect = () => {\n      global.clearTimeout(timeoutKey);\n    };\n    return clearEffect;\n  }, [delay, map, fitViewed]);\n\n  return null;\n};\n\nAMapAutoFitView.defaultProps = {\n  // eslint-disable-next-line react/default-props-match-prop-types\n  delay: 2000,\n};\n\nexport default AMapAutoFitView;\n","import React from 'react';\nimport type { Story } from '@storybook/react';\n\nimport AMapAutoFitView from '../components/AMapAutoFitView';\n\nconst withAutoFitView = (renderStory: Story, context: any) => (\n  <>\n    {renderStory({}, context)}\n    <AMapAutoFitView />\n  </>\n);\n\nexport default withAutoFitView;\n"],"names":["AMapAutoFitView","delay","map","useAMap","fitViewed","setFitViewed","useState","useEffect","clearEffect","timeoutKey","withAutoFitView","renderStory","context","jsxs","Fragment"],"mappings":"oJAOA,MAAAA,EAAA,CAAA,CAAA,MAAAC,KAAA,CACE,KAAA,CAAA,IAAAC,GAAAC,IACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACAC,OAAAA,EAAAA,UAAA,IAAA,CACE,IAAAC,EACA,GAAAJ,EACE,OAAAI,EAEF,MAAAC,EAAA,WAAA,IAAA,CACEP,IACEA,EAAA,WAAA,EACAG,EAAA,EAAA,EACF,EAAAJ,CAAA,EAEF,OAAAO,EAAA,IAAA,CACE,OAAA,aAAAC,CAAA,CAA8B,EAEhCD,CAAO,EAAA,CAAAP,EAAAC,EAAAE,CAAA,CAAA,EAGT,IACF,EAEAJ,EAAA,aAAA,CAA+B,MAAA,GAG/B,oNC5BA,MAAMU,EAAkB,CAACC,EAAoBC,IAExCC,EAAAC,EAAA,CAAA,SAAA,CAAYH,EAAA,GAAIC,CAAO,IACvBZ,EAAgB,EAAA,CAAA,CACnB,CAAA"}