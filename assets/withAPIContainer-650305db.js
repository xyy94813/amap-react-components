import{j as R}from"./jsx-runtime-86dfebf6.js";import{r as v}from"./index-1b03fe98.js";import{c as P}from"./AMapRangingTool-49819da6.js";var I=new Map,l=new WeakMap,y=0,_=void 0;function m(e){return e?(l.has(e)||(y+=1,l.set(e,y.toString())),l.get(e)):"0"}function T(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?m(e.root):e[t]}`).toString()}function V(e){let t=T(e),n=I.get(t);if(!n){const s=new Map;let u;const o=new IntersectionObserver(i=>{i.forEach(r=>{var c;const h=r.isIntersecting&&u.some(f=>r.intersectionRatio>=f);e.trackVisibility&&typeof r.isVisible>"u"&&(r.isVisible=h),(c=s.get(r.target))==null||c.forEach(f=>{f(h,r)})})},e);u=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:s},I.set(t,n)}return n}function x(e,t,n={},s=_){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const c=e.getBoundingClientRect();return t(s,{isIntersecting:s,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:u,observer:o,elements:i}=V(n);let r=i.get(e)||[];return i.has(e)||i.set(e,r),r.push(t),o.observe(e),function(){r.splice(r.indexOf(t),1),r.length===0&&(i.delete(e),o.unobserve(e)),i.size===0&&(o.disconnect(),I.delete(u))}}function O({threshold:e,delay:t,trackVisibility:n,rootMargin:s,root:u,triggerOnce:o,skip:i,initialInView:r,fallbackInView:c,onChange:h}={}){var f;const[b,S]=v.useState(null),g=v.useRef(),[A,C]=v.useState({inView:!!r,entry:void 0});g.current=h,v.useEffect(()=>{if(i||!b)return;let d;return d=x(b,(E,p)=>{C({inView:E,entry:p}),g.current&&g.current(E,p),p.isIntersecting&&o&&d&&(d(),d=void 0)},{root:u,rootMargin:s,threshold:e,trackVisibility:n,delay:t},c),()=>{d&&d()}},[Array.isArray(e)?e.toString():e,b,u,s,o,i,n,c,t]);const w=(f=A.entry)==null?void 0:f.target,M=v.useRef();!b&&w&&!o&&!i&&M.current!==w&&(M.current=w,C({inView:!!r,entry:void 0}));const a=[S,A.inView,A.entry];return a.ref=a[0],a.inView=a[1],a.entry=a[2],a}const $={height:"35vw"},j=({children:e})=>{const{ref:t,inView:n}=O({threshold:0}),s=v.useRef(null);return n&&(s.current=e),R("div",{ref:t,style:$,children:n?e:s.current})},B=(e,t)=>R(j,{children:e({},t)}),W=B,N="38755ba5e44be7ed58efbbc70101fbbf",Y=P({key:N,version:"2.0",AMapUI:{version:"1.1"}}),z=(e,t)=>R(Y,{children:e({},t)}),q=z;export{q as a,W as w};
