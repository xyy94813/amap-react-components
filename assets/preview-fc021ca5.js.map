{"version":3,"file":"preview-fc021ca5.js","sources":["../../.storybook/decorators/withSuspense.tsx","../../.storybook/docsPage.tsx","../../.storybook/preview.ts"],"sourcesContent":["import React, { Suspense } from \"react\";\n\nconst withSuspense = (renderStory, context) => (\n  <Suspense fallback=\"loading\">{renderStory({}, context)}</Suspense>\n);\n\nexport default withSuspense","import type { FC, ReactElement, PropsWithChildren } from 'react';\nimport React from 'react';\nimport { NAVIGATE_URL } from '@storybook/core-events';\nimport {\n  // DocsPage as DefaultDocsPage,\n  DocsContext,\n  DocsContextProps,\n  Title,\n  Subtitle,\n  Description,\n  Primary,\n  Controls,\n  // Stories,\n  Heading,\n  useOf,\n  DocsStoryProps,\n  Anchor,\n  Canvas,\n  HeadingProps,\n  HeaderMdx,\n} from '@storybook/blocks';\nimport { styled } from '@storybook/theming';\nimport { H3 } from '@storybook/components';\n\nfunction navigate(context: DocsContextProps, url: string) {\n  context.channel.emit(NAVIGATE_URL, url);\n}\n\nconst PageSidebarWrapper = styled.div(\n  ({ theme }) => `\n    position: fixed;\n    top: 60px;\n    right: ${theme.layoutMargin * 2}px;\n    width: 180px;\n    padding: ${theme.layoutMargin * 2}px;\n    zIndex: 10;\n    box-shadow: \n        -2px 0px 0px 0px rgba(0, 0, 0, 0.05), \n        0px 0px 0px 1px rgba(0, 0, 0, 0.05);\n  `,\n);\n\nconst PageSidebarTitleWrapper = styled.div(\n  ({ theme }) => `\n    font-size: ${theme.typography.size.s2}px;\n  `,\n);\n\nconst PageSidebarMenuWrapper = styled.ul(\n  () => `\n    margin: 16px 0 0 0;\n    padding: 0;\n    list-style: none;\n  `,\n);\n\nconst PageSidebarMenuItemWrapper = styled.li(\n  ({ theme }) => `\n    padding: 4px;\n    :not(:last-child) {\n      border-bottom: 1px solid ${theme.color.border};\n    }\n  `,\n);\n\nconst PageSidebarMenuItemContentWrapper = styled.div(\n  ({ theme }) => `\n    font-size: ${theme.typography.size.s1}px;\n  `,\n);\n\nconst Subheading: FC<PropsWithChildren<HeadingProps>> = ({\n  children,\n  disableAnchor,\n}) => {\n  if (disableAnchor || typeof children !== 'string') {\n    return <H3>{children}</H3>;\n  }\n  const tagID = globalThis.encodeURIComponent(children.toLowerCase());\n  return (\n    <HeaderMdx as=\"h3\" id={tagID}>\n      {children}\n    </HeaderMdx>\n  );\n};\n\nconst DocsStory: FC<DocsStoryProps> = ({\n  of,\n  expanded = true,\n  withToolbar: withToolbarProp = false,\n  __forceInitialArgs = false,\n  __primary = false,\n}) => {\n  const { story } = useOf(of || 'story', ['story']);\n\n  // use withToolbar from parameters or default to true in autodocs\n  const withToolbar =\n    story.parameters.docs?.canvas?.withToolbar ?? withToolbarProp;\n\n  return (\n    <Anchor storyId={story.id}>\n      {expanded && (\n        <>\n          <Subheading>{story.name}</Subheading>\n          <Description of={of} />\n        </>\n      )}\n      <Canvas\n        of={of}\n        withToolbar={withToolbar}\n        story={{ __forceInitialArgs, __primary }}\n        source={{ __forceInitialArgs }}\n      />\n    </Anchor>\n  );\n};\n\nconst StyledHeading: typeof Heading = styled(Heading)(({ theme }) => ({\n  fontSize: `${theme.typography.size.s2 - 1}px`,\n  fontWeight: theme.typography.weight.bold,\n  lineHeight: '16px',\n  letterSpacing: '0.35em',\n  textTransform: 'uppercase',\n  color: theme.textMutedColor,\n  border: 0,\n  marginBottom: '12px',\n\n  '&:first-of-type': {\n    // specificity issue\n    marginTop: '56px',\n  },\n}));\n\ninterface StoriesProps {\n  title?: ReactElement | string;\n  includePrimary?: boolean;\n}\n\nconst Stories: FC<StoriesProps> = ({\n  title = 'Stories',\n  includePrimary = true,\n}) => {\n  const { componentStories } = React.useContext(DocsContext);\n\n  let stories = componentStories().filter(\n    (story) => !story.parameters?.docs?.disable,\n  );\n\n  if (!includePrimary) stories = stories.slice(1);\n\n  if (!stories || stories.length === 0) {\n    return null;\n  }\n  return (\n    <>\n      <StyledHeading>{title}</StyledHeading>\n      {stories.map(\n        (story) =>\n          story && (\n            <DocsStory\n              key={story.id}\n              of={story.moduleExport}\n              expanded\n              __forceInitialArgs\n            />\n          ),\n      )}\n    </>\n  );\n};\n\nconst PageSidebar = () => {\n  const docsCtx = React.useContext(DocsContext);\n\n  return (\n    <PageSidebarWrapper>\n      <PageSidebarTitleWrapper>大纲</PageSidebarTitleWrapper>\n      <PageSidebarMenuWrapper>\n        {docsCtx.componentStories().map((story) => {\n          // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/Subheading.tsx#L11C48-L11C66\n          const id = globalThis.encodeURIComponent(story.name.toLowerCase());\n          const hash = `#${id}`;\n          return (\n            <PageSidebarMenuItemWrapper key={story.name}>\n              <a\n                aria-hidden=\"true\"\n                href={hash}\n                tabIndex={-1}\n                target=\"_self\"\n                onClick={() => {\n                  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/mdx.tsx#L186-L202\n                  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/mdx.tsx#L70-L88\n                  const element = document.getElementById(id);\n                  if (element) {\n                    navigate(docsCtx, hash);\n                  }\n                }}\n              >\n                <PageSidebarMenuItemContentWrapper>\n                  {story.name}\n                </PageSidebarMenuItemContentWrapper>\n              </a>\n            </PageSidebarMenuItemWrapper>\n          );\n        })}\n      </PageSidebarMenuWrapper>\n    </PageSidebarWrapper>\n  );\n};\n\nconst DocsPage = () => {\n  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/Stories.tsx#L30C11-L30C27\n  const docsCtx = React.useContext(DocsContext);\n\n  const stories = docsCtx.componentStories();\n  const isSingleStory = Object.keys(stories).length === 1;\n\n  const notOnlyOneStory = stories.length > 1;\n  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/Subheading.tsx#L11\n  return (\n    <>\n      <Title />\n      <Subtitle />\n      <Description of=\"meta\" />\n      {isSingleStory ? <Description of=\"story\" /> : null}\n      <Primary />\n      <Controls />\n      {isSingleStory ? null : <Stories />}\n      {notOnlyOneStory && <PageSidebar />}\n    </>\n  );\n};\n\nexport default DocsPage;\n","import withSuspense from './decorators/withSuspense';\nimport DocsPage from './docsPage';\n\n\nexport const decorators = [withSuspense];\n\nexport const parameters = {\n  options: {\n    storySort: {\n      order: [\n        \"组件(Components)\",\n        [\n          \"基础组件(Basic)\",\n          \"地图控件(Control)\",\n          \"覆盖物(Overlay)\",\n          \"工具(Tools)\",\n        ],\n        \"Hooks\",\n        [\n          \"useAMapAPI\",\n          \"useAMap\",\n        ],\n      ],\n    },\n  },\n  docs: {\n    page: DocsPage\n  }\n};\n\nexport const globalTypes = {};\n"],"names":["withSuspense","renderStory","context","jsx","Suspense","NAVIGATE_URL","navigate","url","PageSidebarWrapper","styled","theme","PageSidebarTitleWrapper","PageSidebarMenuWrapper","PageSidebarMenuItemWrapper","PageSidebarMenuItemContentWrapper","Subheading","children","disableAnchor","H3","tagID","HeaderMdx","DocsStory","of","expanded","withToolbarProp","__forceInitialArgs","__primary","story","useOf","withToolbar","_b","_a","jsxs","Anchor","Fragment","Description","Canvas","StyledHeading","Heading","Stories","title","includePrimary","componentStories","React","DocsContext","stories","PageSidebar","docsCtx","id","hash","DocsPage","isSingleStory","notOnlyOneStory","Title","Subtitle","Primary","Controls","decorators","parameters","globalTypes"],"mappings":"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"}