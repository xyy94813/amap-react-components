{"version":3,"file":"preview-513e0676.js","sources":["../../.storybook/decorators/withSuspense.tsx","../../.storybook/docsPage.tsx","../../.storybook/preview.ts"],"sourcesContent":["import React, { Suspense } from \"react\";\n\nconst withSuspense = (renderStory, context) => (\n  <Suspense fallback=\"loading\">{renderStory({}, context)}</Suspense>\n);\n\nexport default withSuspense","import type { FC, ReactElement, PropsWithChildren } from \"react\";\nimport React from \"react\";\nimport { NAVIGATE_URL } from \"@storybook/core-events\";\nimport {\n  // DocsPage as DefaultDocsPage,\n  DocsContext,\n  DocsContextProps,\n  Title,\n  Subtitle,\n  Description,\n  Primary,\n  Controls,\n  // Stories,\n  Heading,\n  useOf,\n  DocsStoryProps,\n  Anchor,\n  Canvas,\n  HeadingProps,\n  HeaderMdx\n} from \"@storybook/blocks\";\nimport { styled } from \"@storybook/theming\";\nimport { H3 } from \"@storybook/components\";\n\nfunction navigate(context: DocsContextProps, url: string) {\n  context.channel.emit(NAVIGATE_URL, url);\n}\n\nconst PageSidebarWrapper = styled.div(\n  ({ theme }) => `\n    width: 180px;\n    position: fixed;\n    top: 32px;\n    right: ${theme.layoutMargin * 2}px;\n    padding: ${theme.layoutMargin * 2}px;\n    z-index: 10;\n    background: ${theme.background.content};\n    box-shadow: \n        -2px 0px 0px 0px rgba(0, 0, 0, 0.05)\n  `\n);\n\nconst PageSidebarTitleWrapper = styled.div(\n  ({ theme }) => `\n    font-size: ${theme.typography.size.s2}px;\n  `\n);\n\nconst PageSidebarMenuWrapper = styled.ul(\n  () => `\n    margin: 16px 0 0 0;\n    padding: 0;\n    list-style: none;\n  `\n);\n\nconst PageSidebarMenuItemWrapper = styled.li(\n  ({ theme }) => `\n    padding: 4px;\n    :not(:last-child) {\n      border-bottom: 1px solid ${theme.color.border};\n    }\n  `\n);\n\nconst PageSidebarMenuItemContentWrapper = styled.div(\n  ({ theme }) => `\n    font-size: ${theme.typography.size.s1}px;\n  `\n);\n\nconst PageSidebar = () => {\n  const docsCtx = React.useContext(DocsContext);\n\n  return (\n    <PageSidebarWrapper>\n      <PageSidebarTitleWrapper>大纲</PageSidebarTitleWrapper>\n      <PageSidebarMenuWrapper>\n        {docsCtx.componentStories().map((story) => {\n          // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/Subheading.tsx#L11C48-L11C66\n          const id = globalThis.encodeURIComponent(story.name.toLowerCase());\n          const hash = `#${id}`;\n          return (\n            <PageSidebarMenuItemWrapper key={story.name}>\n              <a\n                aria-hidden=\"true\"\n                href={hash}\n                tabIndex={-1}\n                target=\"_self\"\n                onClick={() => {\n                  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/mdx.tsx#L186-L202\n                  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/mdx.tsx#L70-L88\n                  const element = document.getElementById(id);\n                  if (element) {\n                    navigate(docsCtx, hash);\n                  }\n                }}\n              >\n                <PageSidebarMenuItemContentWrapper>{story.name}</PageSidebarMenuItemContentWrapper>\n              </a>\n            </PageSidebarMenuItemWrapper>\n          );\n        })}\n      </PageSidebarMenuWrapper>\n    </PageSidebarWrapper>\n  );\n};\n\nconst Subheading: FC<PropsWithChildren<HeadingProps>> = ({ children, disableAnchor }) => {\n  if (disableAnchor || typeof children !== \"string\") {\n    return <H3>{children}</H3>;\n  }\n  const tagID = globalThis.encodeURIComponent(children.toLowerCase());\n  return (\n    <HeaderMdx as=\"h3\" id={tagID}>\n      {children}\n    </HeaderMdx>\n  );\n};\n\nconst DocsStory: FC<DocsStoryProps> = ({\n  of,\n  expanded = true,\n  withToolbar: withToolbarProp = false,\n  __forceInitialArgs = false,\n  __primary = false\n}) => {\n  const { story } = useOf(of || \"story\", [\"story\"]);\n\n  // use withToolbar from parameters or default to true in autodocs\n  const withToolbar = story.parameters.docs?.canvas?.withToolbar ?? withToolbarProp;\n\n  return (\n    <Anchor storyId={story.id}>\n      {expanded && (\n        <>\n          <Subheading>{story.name}</Subheading>\n          <Description of={of} />\n        </>\n      )}\n      <Canvas\n        of={of}\n        withToolbar={withToolbar}\n        story={{ __forceInitialArgs, __primary }}\n        source={{ __forceInitialArgs }}\n      />\n    </Anchor>\n  );\n};\n\nconst StyledHeading: typeof Heading = styled(Heading)(({ theme }) => ({\n  fontSize: `${theme.typography.size.s2 - 1}px`,\n  fontWeight: theme.typography.weight.bold,\n  lineHeight: \"16px\",\n  letterSpacing: \"0.35em\",\n  textTransform: \"uppercase\",\n  color: theme.textMutedColor,\n  border: 0,\n  marginBottom: \"12px\",\n\n  \"&:first-of-type\": {\n    // specificity issue\n    marginTop: \"56px\"\n  }\n}));\n\ninterface StoriesProps {\n  title?: ReactElement | string;\n  includePrimary?: boolean;\n}\n\nconst Stories: FC<StoriesProps> = ({ title = \"Stories\", includePrimary = true }) => {\n  const { componentStories } = React.useContext(DocsContext);\n\n  let stories = componentStories().filter((story) => !story.parameters?.docs?.disable);\n\n  if (!includePrimary) stories = stories.slice(1);\n\n  if (!stories || stories.length === 0) {\n    return null;\n  }\n  return (\n    <>\n      <StyledHeading>{title}</StyledHeading>\n      {stories.map(\n        (story) =>\n          story && <DocsStory key={story.id} of={story.moduleExport} expanded __forceInitialArgs />\n      )}\n    </>\n  );\n};\n\nconst StyledPageContentContainer = styled.div<{\n  notOnlyOneStory: boolean;\n}>(({ notOnlyOneStory, theme }) =>\n  notOnlyOneStory ? `margin-right: ${180 + 20 * 2 + theme.layoutMargin * 2}px;` : \"\"\n);\n\nconst DocsPage = () => {\n  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/Stories.tsx#L30C11-L30C27\n  const docsCtx = React.useContext(DocsContext);\n\n  const stories = docsCtx.componentStories();\n  const notOnlyOneStory = stories.length > 1;\n  // https://github.com/storybookjs/storybook/blob/9fecce26c4dd738890784b6971ce822097c62697/code/ui/blocks/src/blocks/Subheading.tsx#L11\n  return (\n    <>\n      <StyledPageContentContainer notOnlyOneStory={notOnlyOneStory}>\n        <Title />\n        <Subtitle />\n        <Description of=\"meta\" />\n        {!notOnlyOneStory ? <Description of=\"story\" /> : null}\n        <Primary />\n        <Controls />\n        {!notOnlyOneStory ? null : <Stories />}\n      </StyledPageContentContainer>\n      {notOnlyOneStory && <PageSidebar />}\n    </>\n  );\n};\n\nexport default DocsPage;\n","import withSuspense from './decorators/withSuspense';\nimport DocsPage from './docsPage';\n\n\nexport const decorators = [withSuspense];\n\nexport const parameters = {\n  options: {\n    storySort: {\n      order: [\n        \"组件(Components)\",\n        [\n          \"基础组件(Basic)\",\n          \"地图控件(Control)\",\n          \"覆盖物(Overlay)\",\n          \"工具(Tools)\",\n        ],\n        \"Hooks\",\n        [\n          \"useAMapAPI\",\n          \"useAMap\",\n        ],\n      ],\n    },\n  },\n  docs: {\n    page: DocsPage\n  }\n};\n\nexport const globalTypes = {};\n"],"names":["withSuspense","renderStory","context","jsx","Suspense","NAVIGATE_URL","navigate","url","PageSidebarWrapper","styled","theme","PageSidebarTitleWrapper","PageSidebarMenuWrapper","PageSidebarMenuItemWrapper","PageSidebarMenuItemContentWrapper","PageSidebar","docsCtx","React","DocsContext","story","id","hash","Subheading","children","disableAnchor","H3","tagID","HeaderMdx","DocsStory","of","expanded","withToolbarProp","__forceInitialArgs","__primary","useOf","withToolbar","_b","_a","jsxs","Anchor","Fragment","Description","Canvas","StyledHeading","Heading","Stories","title","includePrimary","componentStories","stories","StyledPageContentContainer","notOnlyOneStory","DocsPage","Title","Subtitle","Primary","Controls","decorators","parameters","globalTypes"],"mappings":"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"}