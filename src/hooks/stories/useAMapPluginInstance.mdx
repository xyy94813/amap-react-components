import { Meta } from "@storybook/blocks";

<Meta title="Hooks/useAMapPluginInstance" />

# useAMapPluginInstance

`useAMapPluginInstance` 是能够帮助你更好的管理 AMap Plugin 实例，以便更好的创建自定 AMap 组件。

类型声明：

```ts
const useAMapPluginInstance: <T = any>(
  pluginName: string,
  initInstance: (AMap: typeof global.AMap, amap: AMap.Map) => T
) => T | null;
```

示例：

```ts
const MyAMapComp = () => {
  const initInstance = useCallback(
    (AMap) => new AMap!.Autocomplete(initConfig),
    [initConfig]
  );
  const curInstance = useAMapPluginInstance<AMap.Autocomplete>(
    "Autocomplete",
    initInstance
  );

  useEffect(() => {
    if (!curInstance) return;
    // do something,
    // 例如：
    // curInstance.search(keyword, (status, result) => {
    // });
  }, [curInstance]);

  return null;
};
```
